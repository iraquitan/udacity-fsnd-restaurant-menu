{% extends "main.html" %}
{% block content %}
    {% include 'header.html' %}
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="alert alert-success alert-dismissible" role="alert">
            <ul>
                {% for message in messages %}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <strong>Success!</strong> {{ message }}
                {% endfor %}
            </ul>
        </div>
    {% endif %}
    {% endwith %}

    <div class="row">
        <div class="col-lg-10 padding-none">
            <h1>{{restaurant.name}}</h1>
        </div>
        <div class="col-lg-2 padding-none">
            <figure>
                <img class="img-responsive img-thumbnail creator-img" src="{{ url_for('static', filename='img/blank_user.gif') }}">
                <figcaption class="creator-figcaption">Menu creator's name goes here</figcaption>
            </figure>
        </div>
    </div>

    <div class="row text-center">
        <div class="col-md-3"></div>
        <div class="col-md-6">
            <a href="{{url_for('new_menu_item', restaurant_id=restaurant.id)}}">
                <button class="btn btn-primary" id="edit-item">
                    <span class="glyphicon glyphicon-glass" aria-hidden="true"></span> Add Menu Item
                </button>
            </a>
            <a href="{{url_for('edit_restaurant', restaurant_id=restaurant.id)}}">
                <button class="btn btn-warning" id="edit-restaurant">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit Restaurant
                </button>
            </a>
            <a href="{{url_for('delete_restaurant', restaurant_id=restaurant.id)}}">
                <button class="btn btn-danger" id="delete-restaurant">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete Restaurant
                </button>
            </a>
        </div>
        <div class="col-md-3">
        </div>
    </div>

    {% if items !=[] %}
        <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-3">
                <h2>Appetizers</h2>
                {% for i in items %}
                    {% if i.course == 'Appetizer' %}
                        <div class="panel panel-info">
                            <div class="panel-heading">{{i.name}}</div>
                            <div class="panel-body">
                                <p>{{i.description}}</p>
                                <p>{{i.price}}</p>
                                <div class="text-right">
                                    <a class="btn btn-warning" href='{{url_for('edit_menu_item', restaurant_id = restaurant.id, menu_id=i.id ) }}'>Edit</a>
                                    <a class="btn btn-danger" href='{{url_for('delete_menu_item', restaurant_id = restaurant.id, menu_id=i.id ) }}'>Delete</a>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="col-lg-4">
                <h2>Entrees</h2>
                {% for i in items %}
                    {% if i.course == 'Entree' %}
                        <div class="panel panel-info">
                            <div class="panel-heading">{{i.name}}</div>
                            <div class="panel-body">
                                <p>{{i.description}}</p>
                                <p>{{i.price}}</p>
                                <div class="text-right">
                                    <a class="btn btn-warning" href='{{url_for('edit_menu_item', restaurant_id = restaurant.id, menu_id=i.id ) }}'>Edit</a>
                                    <a class="btn btn-danger" href='{{url_for('delete_menu_item', restaurant_id = restaurant.id, menu_id=i.id ) }}'>Delete</a>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="col-lg-3">
                <h2>Desserts</h2>
                {% for i in items %}
                    {% if i.course == 'Dessert' %}
                        <div class="panel panel-info">
                            <div class="panel-heading">{{i.name}}</div>
                            <div class="panel-body">
                                <p>{{i.description}}</p>
                                <p>{{i.price}}</p>
                                <div class="text-right">
                                    <a class="btn btn-warning" href='{{url_for('edit_menu_item', restaurant_id = restaurant.id, menu_id=i.id ) }}'>Edit</a>
                                    <a class="btn btn-danger" href='{{url_for('delete_menu_item', restaurant_id = restaurant.id, menu_id=i.id ) }}'>Delete</a>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
                <h2>Beverages</h2>
                {% for i in items %}
                    {% if i.course == 'Beverage' %}
                        <div class="panel panel-info">
                            <div class="panel-heading">{{i.name}}</div>
                            <div class="panel-body">
                                <p>{{i.description}}</p>
                                <p>{{i.price}}</p>
                                <div class="text-right">
                                    <a class="btn btn-warning" href='{{ url_for('edit_menu_item', restaurant_id = restaurant.id, menu_id=i.id ) }}'>Edit</a>
                                    <a class="btn btn-danger" href='{{ url_for('delete_menu_item', restaurant_id = restaurant.id, menu_id=i.id ) }}'>Delete</a>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="col-lg-1"></div>
        </div>
    {% endif %}
{% endblock %}